{{ template "base.html" . }}

{{ define "extra_preload_css" }}
<link rel="preload" href='{{ .AddVersion "/static/css/page.css" }}' as="style">
{{ end }}

{{ define "extra_css" }}
<link rel="stylesheet" type="text/css" href='{{ .AddVersion "/static/css/page.css" }}'>
{{ end }}

{{ define "extra_meta" }}
<meta property='og:title' content='{{ .Title }}'>
<meta property='og:type' content='article'>
<meta property='og:url' content='{{ .CanonicalURL }}'>
{{ end }}

{{ define "title_tag" }}
{{ .CurrentPage.Title }} - {{ .Config.AppName }}
{{ end }}

{{ define "content" }}
<div class="page">
    <div class="page-title-wrap">
        <h1>{{ .Title }}</h1>
        {{ if .IsCurrentUserAdmin }}
        <div class="page-buttons">
            <a data-modal="page" class="modal-button" href="javascript:void(0)">Delete</a>
            <a href="/page/{{ .CurrentPage.Slug }}/edit" class="modal-button edit-content">Edit</a>
        </div>
        {{ end }}
    </div>
    {{ .CurrentPage.HTMLContent }}
</div>
{{ end }}

{{ if .IsCurrentUserAdmin }}
<div data-body="page" class="modal">
    <form class="modal-content" action="/page/{{ .CurrentPage.Slug }}/delete" method="POST">
        {{ .CSRFField }}
        <span data-close="page" class="close-modal" title="Close">&times;</span>
        <h2>Delete Page</h2>
        <p>Are you sure you want to delete this page?</p>
        <div class="modal-buttons-wrap">
            <button data-close="page" type="button" class="modal-button cancel-button">Cancel</button>
            <button type="submit" class="modal-button delete-button">Delete</button>
        </div>
    </form>
</div>
{{ end }}